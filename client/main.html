
<head>
  <title>Social</title>
  <!-- <script src="/social/lib/dropzone/dropzone.js"></script> -->
  
</head>
<body>
    <div class="container-fluid">
 <h1>Welcome to Meteor!</h1>
    {{> loginButtons}} <br><br>
        {{#if currentUser }} {{else}}<h4>Please login or Signup to continue.</h4>{{/if}}
  
  
  {{#if currentUser}}
      {{> add}} {{/if}}
   
  <!-- {{#if currentUser }} -->
    <!-- <h4>Upload Profile Picture here!</h4>
      {{> drop}}
  {{else}}
  {{/if}} -->
    <br> <br><br> 
    
    {{#if currentUser}} 
    <table class= "table table-bordered table-hover" >
      <thead class="thead-dark">
        <tr class="table-primary">
          <th scope="col" class="text-center">#</th>
          <th scope="col" class="text-center">User Name</th>
          <th scope="col" class="text-center">User Location</th>
          <th scope="col" class="text-center">User Date of Birth</th>
          <th scope="col" class="text-center">Delete</th>
          <th scope="col" class="text-center">Edit</th>
          
        </tr>
      </thead>
  <tbody>
     {{#each details}}    
        {{#if isOwner}}
        {{> show}}
    {{/if}}
        {{/each}}
  </tbody>
      </table>
    {{/if}}
    <br>
   

    <div>
      {{#if currentUser}} 
        <h4>This is image view:</h4>    
        {{#each images}}
          {{> imageviewer}}
        {{/each}}
    {{/if}}
    </div>
  </div> 
  </body>



<template name = "add">
  <h3>Update your Profile details here : </h3>
    <form class="add-details form-group">
      <div class="form-group row"><input type="text" name="text" placeholder="Enter your Name here"></div>
      <div class="form-group row"><input type="text" name="userLocation" placeholder="Enter your location here"></div>
      <div class="form-group row"><input type="text" name="userDate" placeholder="Enter your date of birth here"></div>
      <div class="form-group row"><h3>Upload Profile Image here :</h3><input id="inp" type="file" name="files"></div>
      <div class="form-group row"><button type="submit">Submit</button></div> 
<!-- 
    <ul>
      <li>{{addDetails}}</li>
    </ul> -->

    </form> 
</template>

<template name = "show">
      <!-- <li>User name is : <strong>{{text}}</strong> and Location is: <strong>{{userLocation}}</strong>
     and User's date of Birth is : <strong>{{userDate}}</strong> <button class="delete">&times;</button></li> -->        
          <tr>
            <th scope="row" class="text-center">*</th>
            <td class="text-center">{{text}}</td>
            <td class="text-center">{{userLocation}}</td>
            <td class="text-center">{{userDate}}</td>
            <td><button class="center-block btn btn-danger">Delete</button></td>
            <td><button class="center-block btn btn-warning"> Edit </button></td>
         </tr>         
</template>
<!-- <template name = "drop">
  <form  class="dropz">
      <input type="file" name="files">
      <button type="submit">Submit</button> <br><br>   
    </form>
</template> -->
<template name="imageviewer">
  <div class="imageview">
      <div>        
        <img src="{{url}}" class="img-fluid rounded-circle" alt="Responsive image" width="120" height="150">
         <!--<tr>
          <td>{{uploadedAt}}</td><td>{{original.name}}</td><td><a href="{{url}}">link</a></td><td>{{#if isUploaded}}uploaded{{else}}uploading...{{/if}}</td><td><button id="deleteFileButton">delete</button></td>
        </tr> -->
       
        <!-- <a href="{{this.url}}" target="_blank"><img src="{{this.url store='thumbs' uploading='/images/uploading.gif' storing='/images/storing.gif'}}" alt="" class="thumbnail" /></a> -->
      </div>
  </div>
</template>