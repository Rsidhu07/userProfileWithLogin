
<head>
   <title>Social</title>  
</head>

  <template name="home">
    
    <div class="container-fluid">
 <h1>Welcome to Meteor!</h1>
    {{> loginButtons}} <br><br>
        {{#if currentUser }} {{else}}<h4>Please login or Signup to continue.</h4>{{/if}}  
      {{#if currentUser}}
        {{> add}} {{/if}}
     
    <br><br><br>   
    
    {{#if currentUser}} 
    <table class= "table table-bordered table-hover" >
      <thead class="thead-dark">
        <tr class="table-primary">
          <th scope="col" class="text-center">#</th>
          <th scope="col" class="text-center">User Name</th>
          <th scope="col" class="text-center">User Location</th>
          <th scope="col" class="text-center">User Date of Birth</th>
          <th scope="col" class="text-center">Delete</th>
          <th scope="col" class="text-center">Edit</th>                 
        </tr>
      </thead>
  <tbody>
     {{#each details}}    
        {{#if isOwner}}
        {{> show}}
    {{/if}}
        {{/each}}
  </tbody>
      </table>
    {{/if}}
    <br>
   

    <div>
      {{#if currentUser}} 
        <h4>This is image view:</h4>    
        {{#each images}}
          {{> imageviewer}}
        {{/each}}
    {{/if}}
    </div>
  </div> 
</template>


<template name = "add">
  <h3>Update your Profile details here : </h3>
    <form class="add-details form-group">
      <div class="form-group row">Enter User Name     : <input type="text" name="text" placeholder="Enter your Name here" maxlength="30" pattern="[a-z A-Z]+" title="Use letters only from A-Z!" required></div>
      <div class="form-group row">Enter User Location: <input type="text" name="userLocation" placeholder="Enter your location here" maxlength="20" pattern="[a-z A-Z]+" title="Use letters only from A-Z!" required></div>
      <div class="form-group row">Enter Date of Birth  : <input type="date" min="1950-01-01" max="2005-01-01" name="userDate" placeholder="Enter your date of birth here" maxlength="20" title="Use numbers only!" required></div>
      <div class="form-group row"><h3>Upload Profile Image here :</h3><input id="inp" type="file" name="files"></div>
      <div class="form-group row"><button type="submit">Submit</button></div> 
    </form> 
</template>

<template name = "show">      
          <tr>
            <th scope="row" class="text-center">*</th>
            <td class="text-center">{{text}}</td>
            <td class="text-center">{{userLocation}}</td>
            <td class="text-center">{{userDate}}</td>
            <td><button class="center-block btn btn-danger">Delete</button></td>
            <td><button class="center-block btn btn-warning"> Edit  </button></td>
            
          </tr>         
</template>

<template name="imageviewer">
  <div class="imageview">
      <div> <br>       
        <img src="{{url}}" class="img-fluid rounded-circle" alt="Responsive image" width="120" height="150">
      </div>
      <br>
  </div>
</template>